{#
  Composant carte restaurant.
  Variants: 'first' (grande gauche), 'small', 'bottom'
#}

{% set variant = variant|default('default') %}

{% if variant == 'first' %}
	{% set size_classes = 'h-[500px] lg:h-[700px] lg:w-3/5' %}
{% elseif variant == 'small' %}
	{% set size_classes = 'h-[250px] lg:h-[338px] flex-1' %}
{% elseif variant == 'bottom' %}
	{% set size_classes = 'h-[280px] md:h-[320px] flex-1' %}
{% else %}
	{% set size_classes = 'h-[300px] flex-1' %}
{% endif %}

<a
	href="{{ href }}" class="group relative rounded-2xl border border-white/10 overflow-hidden flex items-end {{ size_classes }} transition-all duration-300 hover:border-primary/50">
	{# Image de fond #}
	<div class="absolute inset-0 bg-gray-900">
		{% if image|default(null) %}
			<img src="{{ image }}" alt="{{ name }}" class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105">
		{% endif %}
	</div>

	{# Gradient overlay #}
	<div class="absolute inset-0 bg-gradient-to-t from-black/90 via-black/40 to-transparent"></div>

	{# Badge places #}
	<p class="absolute top-4 right-4 px-3 py-1 rounded-full text-xs font-semibold bg-primary text-white">
		{{ seats }}
	</p>

	{# Contenu #}
	<div class="relative z-10 w-full p-6">
		<p class="text-xs text-primary uppercase tracking-wider font-semibold mb-2">
			{{ category }}
		</p>

		<h3 class="font-bold text-white text-xl {{ variant == 'first' ? 'lg:text-3xl' : '' }} mb-1">
			{{ name }}
		</h3>

		<p class="text-sm text-gray-300 mb-4">
			{{ city }}
		</p>

		<div class="flex items-end justify-between">
			<div>
				<p class="text-xs text-gray-400 mb-1">{{ price_label }}</p>
				<p class="font-bold text-primary {{ variant == 'first' ? 'text-3xl lg:text-4xl' : 'text-2xl' }}">
					{{ price }}
				</p>
			</div>

			{% include 'Components/buttons/buttons-primary.html.twig' with {
				as: 'span',
				label: 'DÃ©couvrir',
				variant: 'primary',
				with_arrow: true,
				extra_classes: 'group-hover:bg-white group-hover:text-primary [&_svg]:transition-transform [&_svg]:duration-300 [&_svg]:group-hover:translate-x-1'
			} %}
		</div>
	</div>
</a>
